<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sat Apr 18 21:42:42 +0600 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>RailRoad</h1>
<p>
RailRoad generates models and controllers diagrams in DOT language for a
Rails application.
</p>
<h1>Usage</h1>
<p>
Run RailRoad on the Rails application&#8216;s root directory. You can
redirect its output to a .dot file or pipe it to the dot or neato utilities
to produce a graphic. Model diagrams are intended to be processed using dot
and controller diagrams are best processed using neato.
</p>
<pre>
    railroad [options] command
</pre>
<h2>Options</h2>
<p>
Common options:
</p>
<pre>
    -b, --brief                      Generate compact diagram
                                       (no attributes nor methods)
    -e, --exclude file1[,fileN]      Exclude given files
    -i, --inheritance                Include inheritance relations
    -l, --label                      Add a label with diagram information
                                       (type, date, migration, version)
    -o, --output FILE                Write diagram to file FILE
    -v, --verbose                    Enable verbose output
                                       (produce messages to STDOUT)
</pre>
<p>
Models diagram options:
</p>
<pre>
    -a, --all                        Include all models
                                       (not only ActiveRecord::Base derived)
        --hide-magic                 Hide magic field names
        --hide-types                 Hide attributes type
    -j, --join                       Concentrate edges
    -m, --modules                    Include modules
    -p, --plugins-models             Include plugins models
    -t, --transitive                 Include transitive associations
                                     (through inheritance)
</pre>
<p>
Controllers diagram options:
</p>
<pre>
        --hide-public                Hide public methods
        --hide-protected             Hide protected methods
        --hide-private               Hide private methods
</pre>
<p>
Other options:
</p>
<pre>
    -h, --help                       Show this message
        --version                    Show version and copyright
</pre>
<h2>Commands</h2>
<pre>
    -M, --models                     Generate models diagram
    -C, --controllers                Generate controllers diagram
    -A, --aasm                       Generate &quot;acts as state machine&quot; diagram
</pre>
<h2>Examples</h2>
<pre>
    railroad -o models.dot -M
      Produces a models diagram to the file 'models.dot'
    railroad -a -i -o full_models.dot -M
      Models diagram with all classes showing inheritance relations
    railroad -M | dot -Tsvg &gt; models.svg
      Model diagram in SVG format
    railroad -C | neato -Tpng &gt; controllers.png
      Controller diagram in PNG format
    railroad -h
      Shows usage help
</pre>
<h1>Processing DOT files</h1>
<p>
To produce a PNG image from model diagram generated by RailRoad you can
issue the following command:
</p>
<pre>
    dot -Tpng models.dot &gt; models.png
</pre>
<p>
If you want to do the same with a controller diagram, use neato instead of
dot:
</p>
<pre>
    neato -Tpng controllers.dot &gt; controllers.png
</pre>
<p>
If you want to produce SVG (vectorial, scalable, editable) files, you can
do the following:
</p>
<pre>
    dot -Tsvg models.dot &gt; models.svg
    neato -Tsvg controllers.dot &gt; controllers.svg
</pre>
<p>
Important: There is a bug in Graphviz tools when generating SVG files that
cause a text overflow. You can solve this problem editing (with a text
editor, not a graphical SVG editor) the file and replacing around line 12
&quot;font-size:14.00;&quot; by &quot;font-size:11.00;&quot;, or by issuing
the following command (see &quot;man sed&quot;):
</p>
<pre>
    sed -i 's/font-size:14.00/font-size:11.00/g' file.svg
</pre>
<p>
Note: For viewing and editing SVG there is an excellent opensource tool
called Inkscape (similar to Adobe Illustrator. For DOT processing you can
also use Omnigraffle (on Mac OS X).
</p>
<h1>RailRoad as a rake task</h1>
<p>
(Thanks to Thomas Ritz, <a
href="http://www.galaxy-ritz.de">www.galaxy-ritz.de</a> ,for the code.)
</p>
<p>
In your Rails application, put the following rake tasks into
&#8216;lib/task/diagrams.rake&#8217;:
</p>
<pre>
  namespace :doc do
    namespace :diagram do
      task :models do
        sh &quot;railroad -i -l -a -m -M | dot -Tsvg | sed 's/font-size:14.00/font-size:11.00/g' &gt; doc/models.svg&quot;
      end

      task :controllers do
        sh &quot;railroad -i -l -C | neato -Tsvg | sed 's/font-size:14.00/font-size:11.00/g' &gt; doc/controllers.svg&quot;
      end
    end

    task :diagrams =&gt; %w(diagram:models diagram:controllers)
  end
</pre>
<p>
Then, &#8216;rake doc:diagrams&#8217; produces &#8216;doc/models.svg&#8217;
and &#8216;doc/controllers.svg&#8217;.
</p>
<h1>Requirements</h1>
<p>
RailRoad has been tested with Ruby 1.8.5 and Rails 1.1.6 to 1.2.3
applications. There is no additional requirements (nevertheless, all your
Rails application requirements must be installed).
</p>
<p>
In order to view/export the DOT diagrams, you&#8216;ll need the processing
tools from Graphviz.
</p>
<h1>Website and Project Home</h1>
<p>
<a href="http://railroad.rubyforge.org">railroad.rubyforge.org</a>
</p>
<h1>License</h1>
<p>
RailRoad is distributed under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2 of the
License, or (at your option) any later version.
</p>
<h1>Author</h1>
<p>
Javier Smaldone (javier -at- smaldone -dot- com -dot- ar, <a
href="http://blog.smaldone.com.ar">blog.smaldone.com.ar</a> )
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>