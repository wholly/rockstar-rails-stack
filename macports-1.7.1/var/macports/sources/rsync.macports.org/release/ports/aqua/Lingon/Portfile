# $Id: Portfile 43931 2008-12-17 23:31:51Z jmr@macports.org $

PortSystem 1.0
PortGroup xcode 1.0

name			Lingon
version			2.1
categories		aqua sysutils
platforms		darwin
maintainers		bfulgham@macports.org
homepage		http://lingon.sourceforge.net/
description		Graphical interface for creating launchd configurations

long_description	Lingon is a graphical interface for creating launchd configuration \
			files and controlling them through launchctl for Mac OS X Tiger.
			
			
master_sites		sourceforge:lingon
checksums		md5 648c4ef122253110d28a950949c5d570 \
				sha1 31e4a6f9eb8193abafa1641f029c34619b856334

use_zip			yes
distname		${name}Source-${version}

pre-fetch {
    if {[variant_isset darwin_6] || [variant_isset darwin_7] || [variant_isset darwin_8]} {
        return -code error "${name} ${version} only builds on Mac OS X Leopard (10.5.x). Sorry."
    }
}

use_configure		no

platform darwin 6 { }
platform darwin 7 { }
platform darwin 8 { }

platform darwin 9 {
	if {$xcodeversion == "2.1"} {
		set xcodebuilddir	build/Deployment
	}
}

build.type		pbx
build.dir		${workpath}/${name}Source
build.target		"Lingon"
build.args		-configuration "Release"

destroot	{
	xinstall -m 755 -d ${destroot}/Applications/MacPorts
	file copy ${workpath}/${name}Source/build/Release/${name}.app \
		${destroot}/Applications/MacPorts
}

