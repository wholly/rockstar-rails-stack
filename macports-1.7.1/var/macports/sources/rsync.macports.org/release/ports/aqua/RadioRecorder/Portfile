# $Id: Portfile 27817 2007-08-14 15:40:14Z nox@macports.org $

PortSystem		1.0
PortGroup		xcode 1.0

name			RadioRecorder
version			1.08
categories		aqua audio
maintainers		nomaintainer
description		downloads online radio streams to your Mac

long_description \
	Jogging with an iPod is fun, but even a big music collection gets tiring if \
	you listen to it every day. RadioRecorder lets you take a selection of your \
	favourite internet radio stations along with you.

homepage		http://u1.netgate.net/~snowcat/RadioRecorder.html
master_sites	macports
use_bzip2		yes

checksums		md5 3792972d944c4c9282c7861413547972 \
				sha1 7ee71f7dc65375c55c65720b02ae81c70d16ed04 \
				rmd160 4c9802530ba5cbfefd6ff0dd3f2665d8d9b0d60b

# Dummy configure to enable universal variant.
use_configure	yes
configure		{}

post-patch {
	reinplace -E "/(MACOSX_DEPLOYMENT_TARGET|SDKROOT) =/d" \
		${worksrcpath}/${name}.xcode/project.pbxproj
}

variant universal {
	# Cannot use xcode.build.settings because of #12429.
	#xcode.build.settings-append		"ARCHS=\"i386 ppc\""
	#xcode.destroot.settings-append		"ARCHS=\"i386 ppc\""
	build.args							"ARCHS=\"i386 ppc\""
	destroot.args						"ARCHS=\"i386 ppc\""

	xcode.build.settings-append			GCC_VERSION=4.0 \
										SDKROOT_i386=/Developer/SDKs/MacOSX10.4u.sdk
	xcode.destroot.settings				${xcode.build.settings}
}

livecheck.check	none

