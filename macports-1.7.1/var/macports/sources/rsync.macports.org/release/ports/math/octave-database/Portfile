# $Id: Portfile 48920 2009-03-31 11:28:38Z ryandesign@macports.org $

PortSystem 1.0

name                octave-database
version             1.0.1
categories          math science
platforms           darwin
maintainers         andrea.damore alakazam
description         These are bindings that allow SQL queries and other database \
                    operations on postgres, mysql, sqlite, and standard ODBC \
                    databases from within Octave.
long_description    ${description}  A simplified interface that is uniform \
                    across all database types is provided, as well as the \
                    entire C client API for each database (libpq, libmysqlclient, etc).

homepage            http://octave.sourceforge.net/
master_sites        sourceforge:octave

distname            database-1.0.1

checksums           md5     460b0b3eac92654a63a07b8c95be3880 \
                    sha1    4eefe67c007f71129e6f71f6dc9baf4e29c32862 \
                    rmd160  490fc28735afe6213006e6f403187f1036de677e

patchfiles          patch-sqlite3_wrap.cpp.diff patch-odbc_wrap.cpp.diff

depends_lib-append  port:octave port:swig port:postgresql82 port:mysql5 port:sqlite3 port:unixODBC

post-destroot {
    move ${destroot}${prefix}/share/octave/octave_packages ${destroot}${prefix}/share/octave/octave_packages_${name}
}

post-activate {
    system "octave --eval \"pkg rebuild\""
}

livecheck.check regex
livecheck.url   http://octave.sourceforge.net/packages.html
livecheck.regex http://downloads\.sourceforge\.net/octave/database-(\\d+(\\.\\d+)*)\.tar\.gz
