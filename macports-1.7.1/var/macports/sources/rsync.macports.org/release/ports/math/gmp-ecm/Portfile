# $Id: Portfile 48975 2009-04-01 10:34:29Z vinc17@macports.org $

PortSystem 1.0

name                gmp-ecm
version             6.2.2
categories          math
platforms           darwin
maintainers         vincent-opdarw@vinc17.org
description         Factor integers using the Elliptic Curve Method
long_description    Free implementation of the Elliptic Curve Method (ECM) \
                    for integer factorization.
homepage            http://gforge.inria.fr/projects/ecm/
master_sites        http://gforge.inria.fr/frs/download.php/19552/
distname            ecm-${version}
depends_lib         port:gmp
checksums           md5 1d1644b5318ffa5ed1c0aa53f43d227e \
                    sha1 99c21aecd29d174269c08c6c1e61566b363fc9b3 \
                    rmd160 fd5819b232eb81a817ab78466637c91d69929b97

patchfiles          patch-config.guess.diff

post-destroot {
    set docdir ${destroot}${prefix}/share/doc/${name}
    file mkdir ${docdir}
    xinstall -m 644 -v -W ${worksrcpath} \
        AUTHORS COPYING COPYING.LIB NEWS README README.lib TODO ${docdir}
    set mandir ${destroot}${prefix}/share/man/man1
    file mkdir ${mandir}
    xinstall -m 644 -v -W ${worksrcpath} ecm.1 ${mandir}
}

livecheck.check     regex
livecheck.url       ${homepage}
livecheck.regex     GMP-ECM (\[0-9.\]+)
