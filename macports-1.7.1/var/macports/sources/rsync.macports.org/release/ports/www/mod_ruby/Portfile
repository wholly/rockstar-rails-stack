# $Id: Portfile 30257 2007-10-23 02:28:30Z jmpp@macports.org $

PortSystem 1.0

name			mod_ruby
version			1.2.6
categories		www ruby
platforms		darwin
maintainers		nomaintainer
description		apache2 module embedding the Ruby interpreter
long_description	mod_ruby embeds the Ruby interpreter into the Apache web \
					server, allowing Ruby CGI scripts to be executed natively. \
					These scripts will start up much faster than without \
					mod_ruby. You can also extend Apache by mod_ruby. mod_ruby \
					provides Apache API to Ruby.

homepage		http://modruby.net/
master_sites	${homepage}archive
checksums		md5 299d8536f36e93197f6386e35c2a02c1

depends_lib		port:ruby \
			port:apache2 \
			port:apr

configure.cmd	./configure.rb
configure.args	--with-apxs=${prefix}/apache2/bin/apxs \
				--with-apr-includes=${prefix}/include/apr-1

post-destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}/examples
	xinstall -m 644 -W ${worksrcpath} README.ja README.en ChangeLog COPYING \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/examples/httpd.conf \
		${destroot}${prefix}/share/doc/${name}/examples
}
