# $Id: Portfile 48144 2009-03-15 07:07:11Z ryandesign@macports.org $

PortSystem 1.0
name              php5-syck
version           0.55

categories        www net devel
platforms         darwin freebsd openbsd
maintainers       emory.smith@gmail.com openmaintainer
homepage          http://www.whytheluckystiff.net/syck/
description       PHP5 bindings for syck
long_description \
    Syck is a parser for YAML -- this package installs the syck php extension, \
    allowing php code to interface to the libsyck C library.

master_sites      http://rubyforge.org/frs/download.php/4492
checksums         md5 a57b7c46d81170b9318e2f384f77910c
distname          syck-${version}
extract.suffix    .tar.gz

depends_lib   port:syck path:bin/phpize:php5 port:re2c

worksrcdir    syck-${version}/ext/php

configure.args    --with-syck=${prefix}

platform darwin {
    # for details on this patch see the "Patch For Mac Users" section
    # of http://trac.symfony-project.com/trac/wiki/InstallingSyck
    patchfiles patch-phpext.c.diff
}

pre-configure {
    system "cd ${worksrcpath} && phpize"
}

destroot.destdir INSTALL_ROOT=${destroot}

post-install {
    ui_msg "***************************************************************************"
    ui_msg "* To enable the syck extension in php, add or edit the following lines    *"
    ui_msg "* in ${prefix}/etc/php.ini:                                               *"
    ui_msg "*                                                                         *" 
    ui_msg "* extension_dir=${prefix}/lib/php/extensions/no-debug-non-zts-20060613    *"
    ui_msg "* extension = syck.so                                                     *" 
    ui_msg "***************************************************************************"
}
