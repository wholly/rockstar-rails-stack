# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 40621 2008-10-08 17:07:16Z macsforever2000@macports.org $

PortSystem	1.0

name		webkit-gtk
version		r30707
revision	1
description	Apple's WebKit HTML rendering library for GTK+
long_description ${description}
maintainers	gmail.com:myschizobuddy
categories	www gnome
platforms	darwin freebsd
homepage	http://webkit.org
master_sites    http://nightly.webkit.org/files/trunk/src/
distname	WebKit-${version}
use_bzip2	yes
checksums	\
	md5 57f29473a82b70bf72993eae14c5a818 \
	sha 1i0c777040c7ef2a0ee7097dfbc8dc89b3e4c9a002 \
	rmd160 4ab419002ce7824797c38699c35f0e85152bd309

depends_lib	\
	port:curl \
	port:gtk2 \
	port:icu \
	port:libxslt \
	port:sqlite3
depends_build	\
	port:libtool \
	port:pkgconfig

post-patch	{
	reinplace "s|aclocal |aclocal -I ${prefix}/share/aclocal |" ${worksrcpath}/autogen.sh
}

configure.cmd	./autogen.sh
configure.args	--enable-svg --enable-icon-database

variant video description {Add gstreamer video support} {
	depends_lib-append		port:gstreamer \
							port:gst-plugins-base \
							port:gnome-vfs
	configure.args-append	--enable-video
}
variant svg_experimental description {Enable SVG experimental features} {
	configure.args-append	--enable-svg-experimental
}
variant no_svg description {Disable SVG support} {
	configure.args-delete	--enable-svg
	configure.args-append	--disable-svg
}
