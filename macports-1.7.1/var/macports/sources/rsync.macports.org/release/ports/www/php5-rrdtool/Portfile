# $Id: Portfile 41133 2008-10-25 00:09:13Z markd@macports.org $

PortSystem 1.0

name              php5-rrdtool
version           1.0
revision	  1
categories        www net devel
platforms         darwin
maintainers       markd
description       PHP 5 glue for rrdtool
long_description  ${description}

homepage          http://oss.oetiker.ch/rrdtool/pub/contrib/php_rrdtool.txt

master_sites      http://oss.oetiker.ch/rrdtool/pub/contrib/
checksums	  md5 c86a45cfc54517b9066c480bbc589d43
distfiles	  php_rrdtool.tar.gz

depends_lib	  port:rrdtool port:php5 port:re2c

worksrcdir	  rrdtool

configure.cflags-append     "-DHAVE_RRD_12X"
configure.args    --with-rrdtool=${prefix}

pre-configure {
	system "cd ${worksrcpath} && phpize"
}

destroot.destdir INSTALL_ROOT=${destroot}

post-install {
  ui_msg "\n
To enable the rrdtool extension in php, modify the extension variables
in ${prefix}/etc/php.ini as shown:

Edit variable:

	extension_dir = \"${prefix}/lib/php/extensions/no-debug-non-zts-20060613\"

Add an extension statement:

	extension = rrdtool.so
\n"
}
