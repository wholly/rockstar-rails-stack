# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 48718 2009-03-27 17:13:47Z nox@macports.org $

PortSystem      1.0

name            php5-uploadprogress
set my_name     uploadprogress
version         1.0.0
categories      www devel php
platforms       darwin
maintainers     nox openmaintainer
description     An extension to track progress of a file upload.

long_description \
    An extension to track progress of a file upload. It is only known to \
    work on Apache with mod_php, other SAPI implementations unfortunately \
    still have issues.

homepage        http://pecl.php.net/package/${my_name}
master_sites    http://pecl.php.net/get/
distname        ${my_name}-${version}
extract.suffix  .tgz

pre-fetch {
    if {![file exists ${prefix}/apache2/modules/libphp5.so]} {
        error "php5 must be built with the +apache2 variant enabled."
    }
}

checksums       md5     2a58bb9b9a310d07e3bbbf6b725265a7 \
                sha1    bc40923dc146eb8fe1d5cfd85adbec1d74c2cdb7 \
                rmd160  3913f8c06c98b85ec57cca27ef0a126747fac757

depends_lib     path:bin/phpize:php5

pre-configure {
    system "cd ${worksrcpath} && phpize"
}

use_parallel_build  yes

build.args          EXTRA_INCLUDES=-I${prefix}/include

destroot.destdir    INSTALL_ROOT=${destroot}
