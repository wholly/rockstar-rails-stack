# $Id: Portfile 38146 2008-07-08 20:44:32Z macsforever2000@macports.org $

PortSystem              1.0

name                    kismet
version                 2008-05-R1
description             Wireless network detector and sniffer
long_description        Kismet is an 802.11 layer2 wireless network detector, sniffer, and \
                        intrusion detection system.  Kismet will work with any wireless card which \
                        supports raw monitoring (rfmon) mode, and can sniff 802.11b, 802.11a, \
                        802.11n, and 802.11g traffic (devices and drivers permitting). It can work \
                        with MacBook and MacBook Pro Atheros-based cards with which currently KisMac is unable to.\
                        Kismet identifies networks by passively collecting packets and detecting \
                        standard named networks, detecting (and given time, decloaking) hidden \
                        networks, and inferring the presence of non-beaconing networks via data traffic.

maintainers             sava.chankov@gmail.com
categories              net
platforms               darwin

homepage                http://www.kismetwireless.net/
master_sites            ${homepage}code

checksums               md5 6ee365d36354b4dee4945e67f8149294

depends_lib             port:libpcap

# Dependency building command fails but dependecies are built nevertheless
pre-build {
    system "(cd ${worksrcpath} && gnumake depend ) || true"
}

build.type              gnu

set docdir              ${prefix}/share/doc/${name}-${version}

post-destroot {
    xinstall -d ${destroot}${docdir}
    xinstall -W ${worksrcpath} README ${destroot}${docdir}
}

post-install {
    ui_msg "Read ${docdir}/README and edit ${prefix}/etc/kismet.conf"
    ui_msg "In ${prefix}/etc/kismet.conf set source=darwin,en1,airport_extreme"
    ui_msg "and replace your_user_here in suiduser with your username"
}
