--- src/config.h.old	2008-08-01 00:43:35.000000000 -0400
+++ src/config.h	2008-08-01 00:44:07.000000000 -0400
@@ -37,18 +37,26 @@
 #else
 #  define RESOLVFILE "/etc/resolv.conf"
 #endif
-#define RUNFILE "/var/run/dnsmasq.pid"
+#ifdef __APPLE__
+#  define RUNFILE "__PREFIX__/var/run/dnsmasq.pid"
+#else
+#define RUNFILE "__PREFIX__/var/run/dnsmasq.pid"
+#endif
 #if defined(__FreeBSD__) || defined (__OpenBSD__) || defined(__DragonFly__)
-#   define LEASEFILE "/var/db/dnsmasq.leases"
+#   define LEASEFILE "__PREFIX__/var/db/dnsmasq.leases"
+#elif __APPLE__
+#   define LEASEFILE "__PREFIX__/var/db/dnsmasq.leases"
 #elif defined(__sun__) || defined (__sun)
-#   define LEASEFILE "/var/cache/dnsmasq.leases"
+#   define LEASEFILE "__PREFIX__/var/cache/dnsmasq.leases"
 #else
-#   define LEASEFILE "/var/lib/misc/dnsmasq.leases"
+#   define LEASEFILE "__PREFIX__/var/lib/misc/dnsmasq.leases"
 #endif
 #if defined(__FreeBSD__)
-#   define CONFFILE "/usr/local/etc/dnsmasq.conf"
+#   define CONFFILE "__PREFIX__/usr/local/etc/dnsmasq.conf"
+#elif __APPLE__
+#   define CONFFILE "__PREFIX__/etc/dnsmasq.conf"
 #else
-#   define CONFFILE "/etc/dnsmasq.conf"
+#   define CONFFILE "__PREFIX__/etc/dnsmasq.conf"
 #endif
 #define DEFLEASE 3600 /* default lease time, 1 hour */
 #define CHUSER "nobody"
