# $Id: Portfile 37061 2008-05-25 03:58:32Z raimue@macports.org $

PortSystem 1.0

name            tcl-dox
version         0.8.2
categories      textproc
platforms       darwin
maintainers     raimue
description     Tcl-Dox is a filter that you can use with Doxygen for documenting Tcl source code.
long_description \
    ${description}
homepage        http://therowes.net/~greg/software/

master_sites    http://therowes.net/~greg/download/tcl-doxygen-filter/

checksums       md5     64af66239f5d14898f7d4af077278b82 \
                sha1    0c128fd06459fbc10f6b9ac0409f9d46114db48d \
                rmd160  b9c033aa44a83335cd6a2444b65cdb946d25ac2e

depends_build   bin:flex:flex

use_configure   no

build.args      -C src

destroot {
    # docs
	set docdir ${prefix}/share/doc/${name}-${version}
	xinstall -d ${destroot}${docdir}
    xinstall -m 644 -W ${worksrcpath} AUTHORS COPYING README ChangeLog ${destroot}${docdir}
    file copy ${worksrcpath}/example ${destroot}${docdir}

    # executable
    xinstall -m 755 -W ${worksrcpath} src/${name} ${destroot}${prefix}/bin
}

livecheck.check         regex
livecheck.url           ${master_sites}
livecheck.regex         ${name}-(\[0-9.\]+)${extract.suffix}
