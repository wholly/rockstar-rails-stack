# $Id: Portfile 45523 2009-01-17 07:51:08Z jeremyhu@macports.org $

PortSystem 1.0

name		enca
version		1.4
categories	textproc
platforms	darwin
maintainers	nomaintainer
description	character set analyser
long_description	Enca is an Extremely Naive Charset Analyser. It \
			detects character set and encoding of text files and \
			can also convert them to other encodings.

homepage	http://trific.ath.cx/software/enca/
master_sites	http://www.mirrorservice.org/sites/master.us.finkmirrors.net/distfiles/md5/5c97deb1910fa15cef9e867797143db4/ \
            http://distfiles.master.finkmirrors.net/md5/5c97deb1910fa15cef9e867797143db4/
            # http://trific.ath.cx/Ftp/enca/
            # the above seems to be broken at present
checksums	md5 5c97deb1910fa15cef9e867797143db4
use_bzip2	yes

depends_build	port:libtool

depends_lib	port:libiconv

configure.args	--with-libiconv=${prefix}
configure.cflags-append	"-I${prefix}/include"

post-configure {
	# It's too much of a PITA to autoreconf for universal
	delete ${worksrcpath}/libtool
	system "ln -s ${prefix}/bin/glibtool ${worksrcpath}/libtool"
}
