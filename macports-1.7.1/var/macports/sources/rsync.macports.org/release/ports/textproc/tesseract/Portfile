# $Id: Portfile 45691 2009-01-20 05:23:27Z toby@macports.org $

PortSystem          1.0

name                tesseract
version             2.03
categories          textproc graphics pdf
maintainers         emer@emer.net
description         Open source OCR engine
long_description    The Tesseract OCR engine was one of the top 3 engines in \
                    the 1995 UNLV Accuracy test. Between 1995 and 2006 it had \
                    little work done on it, but it is probably one of the \
                    most accurate open source OCR engines available. The \
                    source code will read a binary, grey or color image and \
                    output text. A tiff reader is built in that will read \
                    uncompressed TIFF images, or libtiff can be added to read \
                    compressed images.

platforms           darwin
homepage            http://code.google.com/p/tesseract-ocr/
master_sites        http://tesseract-ocr.googlecode.com/files:src \
                    http://tesseract-ocr.googlecode.com/files:langdata

set lang_data       ${name}-2.00.eng${extract.suffix}

distfiles \
    ${distname}${extract.suffix}:src \
    ${lang_data}:langdata

checksums\
    ${distname}${extract.suffix} \
 		md5     5777b70b11df16c1ac9aa155d7cfc553 \
		sha1    b7859278ff98a8b64bf98b5a519688e1559cec57 \
	    rmd160  7519e7f4d876444bd3264d599dbf423e22443311 \
    ${lang_data} \
        md5     b8291d6b3a63ce7879d688e845e341a9 \
		sha1    40292c8d206090c4ab342f6b7814ea41c075abce \
		rmd160  4a8090729504c216b3988f189ea79a5a5e223173
		
post-extract {
    foreach f [exec ls ${workpath}/tessdata/] {
        copy ${workpath}/tessdata/${f} ${worksrcpath}/tessdata
    }
    delete ${workpath}/tessdata
}

depends_lib         port:tiff
