# $Id: Portfile 37178 2008-05-29 01:15:46Z ryandesign@macports.org $

PortSystem              1.0

name                    gawk
version                 3.1.6
categories              lang
maintainers             gmail.com:mschamschula openmaintainer
platforms               darwin
master_sites            gnu
homepage                http://www.gnu.org/software/gawk/
description             The GNU awk utility.
use_bzip2               yes
use_parallel_build      yes

long_description \
    The awk utility interprets a special-purpose programming language   \
    that makes it possible to handle simple data-reformatting jobs with \
    just a few lines of code. It is a free, extended version of awk.

checksums               md5 c9926c0bc8c177cb9579708ce67f0d75 \
                        sha1 fb45bded207af6a8e46cd63fcbb6fb064ecee607 \
                        rmd160 e2639935d87d5c9fdb115a58ab1f598b69a76216

depends_lib             port:libiconv \
                        port:gettext

configure.args          --with-libiconv-prefix=${prefix}

test.run                yes
test.target             check

post-destroot {
    delete ${destroot}${prefix}/bin/awk
}

platform darwin 6 {
    depends_lib-append  lib:libdl:dlcompat
}
