# $Id: Portfile 46678 2009-02-10 05:51:01Z illogic-al@macports.org $

PortSystem          1.0
PortGroup           kde4   1.0

name                kdepim4
version             4.2.0
revision            0
categories          kde kde4
maintainers         illogic-al openmaintainer
description         KDE4 groupware suite
long_description    KDE4 groupware suite including a Mail client, \
                    addressbook, organizer and groupware integration.
platforms           darwin
homepage            http://www.kde.org
master_sites        kde:stable/${version}/src/
use_bzip2           yes
distname            kdepim-${version}
checksums           md5 a80631de21930b2544c86722138aaa6c

patchfiles          patch-kleopatra-CMakeLists.diff \
                    patch-kresources-CMakeLists.diff
patch.dir           ${workpath}/${distname}

depends_lib-append  port:kdebase4-runtime \
                    port:kdepimlibs4 port:glib2 \
                    port:qca port:gnokii

configure.args-append   ../${distname} \
                        -DQCA2_LIBRARIES=${prefix}/lib/libqca.2.dylib \
                        -DQCA2_INCLUDE_DIR=${prefix}/include/QtCrypto

variant no_akregator description "Omit Akregator" {
    configure.args-append   -DBUILD_akregator=OFF
}

variant no_kaddressbook description "Omit KAddressBook" {
    depends_lib-delete      port:gnokii
    configure.args-append   -DBUILD_kaddressbook=OFF
}

variant no_kalarm description "Omit kalarm" {
    configure.args-append   -DBUILD_kalarm=OFF
}

variant no_kjots description "Omit kjots" {
    configure.args-append   -DBUILD_kjots-OFF
}

variant no_kleopatra description "Omit kleopatra" {
    configure.args-append   -DBUILD_kleopatra=OFF -DBUILD_libkleopatraclient=OFF
}

variant no_kmail description "Omit kmail" {
    configure.args-append   -DBUILD_kmail=OFF -DBUILD_kmailcvt=OFF \
                            -DBUILD_ksendemail=OFF
}

variant no_knode description "Omit knode" {
    configure.args-append   -DBUILD_knode=OFF
}

variant no_knotes description "Omit knotes" {
    configure.args-append   -DBUILD_knotes=OFF
}

variant no_kontact description "Omit kontact" {
    configure.args-append   -DBUILD_kontact=OFF
}

variant no_korganizer description "Omit korganizer" {
    configure.args-append   -DBUILD_korganizer=OFF
}

