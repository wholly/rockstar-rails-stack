# $Id: Portfile 48911 2009-03-31 10:02:34Z ryandesign@macports.org $

PortSystem			1.0

name				lincity-ng
version				1.1.2
revision                        2
categories			games
maintainers			pguyot@kallisys.net openmaintainer
description			3D city simulation game
long_description \
    LinCity-NG is a City Simulation Game. It is a polished and improved \
    version of the classic LinCity game.
homepage			http://lincity-ng.berlios.de/
platforms			darwin
master_sites		http://download.berlios.de/lincity-ng/ \
					http://download2.berlios.de/lincity-ng/
use_bzip2			yes
checksums			md5     3b4b67044230bdab64e7976e212cdd80 \
					sha1    b2bd7f2e058ada133b452d9dddd8def0f2dbbaeb \
					rmd160  e2cd3c3ab40d2238a2ba3fd15eba316da4eb3a6e

universal_variant no

configure.args		--mandir=${destroot}${prefix}/share/man \
					--with-libphysfs=${prefix}

platform darwin {
	configure.args-append	--with-apple-opengl-framework
}

depends_lib				port:libxml2 \
					bin:sdl-config:libsdl \
					lib:libsdl_mixer:libsdl_mixer \
					lib:libsdl_image:libsdl_image \
					lib:libsdl_ttf:libsdl_ttf \
					lib:libsdl_gfx:libsdl_gfx \
					lib:libphysfs:physfs \
					port:libiconv
depends_build		path:bin/pkg-config:pkgconfig \
					bin:jam:jam

configure.cxxflags-append -I${prefix}/include

build {
	system "cd ${worksrcpath} && jam"
}

destroot {
	system "cd ${worksrcpath} && jam -sprefix=${destroot}${prefix} install"
}
