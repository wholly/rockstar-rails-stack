diff -ur goffice/gtk/go-action-combo-color.c.orig goffice/gtk/go-action-combo-color.c
--- goffice/gtk/go-action-combo-color.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-action-combo-color.c	2007-10-07 22:09:07.000000000 -0700
@@ -18,6 +18,7 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301
  * USA
  */
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-action-combo-color.h"
 #include "go-combo-color.h"
diff -ur goffice/gtk/go-action-combo-pixmaps.c.orig goffice/gtk/go-action-combo-pixmaps.c
--- goffice/gtk/go-action-combo-pixmaps.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-action-combo-pixmaps.c	2007-10-07 22:10:04.000000000 -0700
@@ -18,6 +18,7 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301
  * USA
  */
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-action-combo-pixmaps.h"
 #include "go-combo-pixmaps.h"
diff -ur goffice/gtk/go-action-combo-stack.c.orig goffice/gtk/go-action-combo-stack.c
--- goffice/gtk/go-action-combo-stack.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-action-combo-stack.c	2007-10-07 22:10:53.000000000 -0700
@@ -18,6 +18,7 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301
  * USA
  */
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-action-combo-stack.h"
 #include "go-combo-box.h"
diff -ur goffice/gtk/go-action-combo-text.c.orig goffice/gtk/go-action-combo-text.c
--- goffice/gtk/go-action-combo-text.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-action-combo-text.c	2007-10-07 22:11:31.000000000 -0700
@@ -18,6 +18,7 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301
  * USA
  */
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-action-combo-text.h"
 #include "go-combo-box.h"
diff -ur goffice/gtk/go-color-palette.c.orig goffice/gtk/go-color-palette.c
--- goffice/gtk/go-color-palette.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-color-palette.c	2007-10-07 22:05:51.000000000 -0700
@@ -27,6 +27,7 @@
  * USA.
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-color-palette.h"
 #include "goffice-gtk.h"
diff -ur goffice/gtk/go-combo-box.c.orig goffice/gtk/go-combo-box.c
--- goffice/gtk/go-combo-box.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-combo-box.c	2007-10-07 22:04:52.000000000 -0700
@@ -24,6 +24,7 @@
  * USA.
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-combo-box.h"
 #include <goffice/utils/go-marshalers.h>
diff -ur goffice/gtk/go-combo-color.c.orig goffice/gtk/go-combo-color.c
--- goffice/gtk/go-combo-color.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-combo-color.c	2007-10-07 22:06:36.000000000 -0700
@@ -30,6 +30,7 @@
  * USA.
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 
 #include "go-combo-color.h"
diff -ur goffice/gtk/go-combo-pixmaps.c.orig goffice/gtk/go-combo-pixmaps.c
--- goffice/gtk/go-combo-pixmaps.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-combo-pixmaps.c	2007-10-07 22:07:45.000000000 -0700
@@ -21,6 +21,7 @@
  * USA.
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-combo-pixmaps.h"
 #include "go-combo-box.h"
diff -ur goffice/gtk/go-combo-text.c.orig goffice/gtk/go-combo-text.c
--- goffice/gtk/go-combo-text.c.orig	2007-03-08 16:02:24.000000000 -0800
+++ goffice/gtk/go-combo-text.c	2007-10-07 22:08:23.000000000 -0700
@@ -3,6 +3,7 @@
  * go-combo-text: A combo box for selecting from a list.
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-combo-text.h"
 #include "go-combo-box.h"
diff -ur goffice/gtk/go-palette.c.orig goffice/gtk/go-palette.c
--- goffice/gtk/go-palette.c.orig	2006-12-31 18:38:12.000000000 -0800
+++ goffice/gtk/go-palette.c	2007-10-07 22:12:15.000000000 -0700
@@ -19,6 +19,7 @@
  * USA
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 
 #include <goffice/utils/go-image.h>
diff -ur goffice/utils/go-gradient.c.orig goffice/utils/go-gradient.c
--- goffice/utils/go-gradient.c.orig	2006-12-31 18:38:11.000000000 -0800
+++ goffice/utils/go-gradient.c	2007-10-07 21:58:46.000000000 -0700
@@ -19,6 +19,7 @@
  * USA
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "go-gradient.h"
 #include "go-color.h"
diff -ur plugins/reg_linear/gog-lin-reg.c.orig plugins/reg_linear/gog-lin-reg.c
--- plugins/reg_linear/gog-lin-reg.c.orig	2007-03-29 16:09:20.000000000 -0700
+++ plugins/reg_linear/gog-lin-reg.c	2007-10-07 22:19:52.000000000 -0700
@@ -19,6 +19,7 @@
  * USA
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include <goffice/app/module-plugin-defs.h>
 #include "gog-lin-reg.h"
diff -ur plugins/smoothing/gog-exp-smooth.c.orig plugins/smoothing/gog-exp-smooth.c
--- plugins/smoothing/gog-exp-smooth.c.orig	2007-02-21 17:27:00.000000000 -0800
+++ plugins/smoothing/gog-exp-smooth.c	2007-10-07 22:22:47.000000000 -0700
@@ -19,6 +19,7 @@
  * USA
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "gog-exp-smooth.h"
 #include <goffice/app/go-plugin.h>
diff -ur plugins/smoothing/gog-moving-avg.c.orig plugins/smoothing/gog-moving-avg.c
--- plugins/smoothing/gog-moving-avg.c.orig	2007-02-21 17:27:00.000000000 -0800
+++ plugins/smoothing/gog-moving-avg.c	2007-10-07 22:22:09.000000000 -0700
@@ -19,6 +19,7 @@
  * USA
  */
 
+#undef GTK_DISABLE_DEPRECATED
 #include <goffice/goffice-config.h>
 #include "gog-moving-avg.h"
 #include <goffice/app/go-plugin.h>
