# $Id: Portfile 39855 2008-09-08 23:30:30Z ryandesign@macports.org $

PortSystem			1.0
name				ncview
version				1.93c
revision			1
maintainers			m@nnutter.com
platforms			darwin
categories			science

description			X windows point'n'click NetCDF viewer.
long_description	Ncview is a visual browser for NetCDF format \
					files. Typically you would use ncview to get \
					a quick and easy, push-button look at your \
					NetCDF files. You can view simple movies of \
					the data, view along various dimensions, take \
					a look at the actual data values, change color \
					maps, invert the data, etc.

homepage			http://meteora.ucsd.edu/~pierce/ncview_home_page.html

master_sites		ftp://cirrus.ucsd.edu/pub/ncview/
checksums			md5 c6a3cbabb9c1a55633fae7d892b301cc \
					sha1 a59cedf61b9d48985a5896469c7320c8dfffd6f3

patchfiles		patch-Makefile.in
depends_lib		port:netcdf

configure.args		--with-netcdf_incdir=${prefix}/include \
			--with-netcdf_libdir=${prefix}/lib \
			--with-bindir=${prefix}/bin

destroot.destdir-append	MANDIR=${prefix}/share/man/man1

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/lib/ncview
        foreach file { 3gauss.ncmap 3saw.ncmap default.ncmap detail.ncmap hotres.ncmap nc_overlay.earth.lat-lon.p8deg nc_overlay.lat-lon-grid.20x60 nc_overlay.lat-lon-grid.10x30 } {

	xinstall -m 755 ${worksrcpath}/${file} ${destroot}${prefix}/lib/ncview
}
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/ncview
	xinstall -m 755 ${worksrcpath}/README ${destroot}${prefix}/share/doc/ncview
}

post-activate {
ui_msg "\n
The MacPorts X11 app-defaults directory is located at:

	${prefix}/lib/X11/app-defaults

Therefore, you must set the XFILESEARCHPATH environment variable to your ~/.profile for
your X11 environment to find the MacPorts app-defaults directory:

	export XFILESEARCHPATH=/usr/X11R6/lib/X11/app-defaults/%N:${prefix}/lib/X11/app-defaults/%N
\n"
}
