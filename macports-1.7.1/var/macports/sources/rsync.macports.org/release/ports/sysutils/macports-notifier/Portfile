# $Id: Portfile 46615 2009-02-09 00:34:31Z rhwood@macports.org $

PortSystem 1.0
PortGroup xcode 1.0

name                    macports-notifier
version                 0.1
categories              sysutils aqua macports
maintainers             nomaintainer
description             A menubar notifier for MacPorts.
long_description    \
	MacPorts Notifier is a menubar notifier for MacPorts. It works like \
	the Gmail notifier, updating the port teee automatically and notifying \	the user if any ports are outdated.
homepage                http://portsnotifier.sourceforge.net
#master_sites           
#distname               ${name}
#checksums              md5 c586fd603d9978b306aee428ea39e329
platforms               macosx

fetch.type              svn
svn.url                 http://portsnotifier.googlecode.com/svn/trunk/

worksrcdir              trunk

use_configure	yes
configure	{
	reinplace "s|/opt/local|${prefix}|g" ${worksrcpath}/PNDefines.h
	reinplace "s|/opt/local|${prefix}|g" ${worksrcpath}/net.sourceforge.portsnotifier.plist
}

xcode.target            PortsNotifier
xcode.configuration     Release

post-destroot	{
	xinstall -d ${destroot}/opt/local/bin
	xinstall -c ${worksrcpath}/build/macports-sync-agent ${destroot}/opt/local/bin
	file delete ${destroot}/Applications/MacPorts/macports-sync-agent
}
