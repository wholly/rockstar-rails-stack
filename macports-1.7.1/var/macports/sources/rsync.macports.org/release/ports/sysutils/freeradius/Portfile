# $Id: Portfile 43822 2008-12-15 17:01:53Z markd@macports.org $

PortSystem 1.0

name             freeradius
version          2.1.3
categories       sysutils
maintainers      nomaintainer
description      Free Radius Implementation
long_description \
	The FreeRADIUS Server Project is an attempt to create a high-performance and highly-configurable \
	GPLd free RADIUS server.  The server is similar to Livingston's 2.0 server. FreeRADIUS is a variant of \
	the Cistron RADIUS server, but they don't share a lot in common any more.
homepage         http://www.freeradius.org/
platforms        darwin freebsd
use_bzip2	yes
distname	${name}-server-${version}
master_sites     ftp://ftp.freeradius.org/pub/freeradius/ \
		 ftp://ftp.freeradius.org/pub/radius/old
checksums	md5 df7a23ec6303a89d014fcc43418ce5e5  \
		sha1 752bc9ad79dec97661ebf5459fd51b708d0f9ddd  \
		rmd160 9f697c1b0a834dc7f2b0f669df0d6b8c379ad346

depends_lib      port:openssl port:gdbm

configure.args   --with-openssl-includes=${prefix}/include/openssl \
                 --with-openssl-libraries=${prefix}/lib \
                 --without-rlm_krb5 \
                 --mandir=${prefix}/share/man

configure.cflags-append -I${prefix}/include

destroot.env-append	R=${destroot}

variant kerberos description { Using kerberos } {
     depends_lib-append port:kerberos5
     configure.args-delete --without-rlm_krb5
}
