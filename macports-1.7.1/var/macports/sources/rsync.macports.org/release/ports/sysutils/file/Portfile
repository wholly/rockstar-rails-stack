# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 43943 2008-12-18 04:00:48Z jeremyhu@macports.org $

PortSystem 1.0

name                file
version             4.26
revision            1
categories          sysutils
maintainers         jay.fm:jay-macports \
                    openmaintainer
description         File - determine file type
long_description \
    File tests each argument in an attempt to classify it. There are three  \
    sets of tests, performed in this order: filesystem tests, magic number  \
    tests, and language tests. The first test that succeeds causes the file \
    type to be printed.

homepage            ftp://ftp.astron.com/pub/${name}/
platforms           darwin
master_sites        ftp://ftp.fu-berlin.de/unix/tools/${name}/ \
                    ftp://ftp.astron.com/pub/${name}/ \
                    ftp://ftp.gw.com/mirrors/pub/unix/${name}/
checksums           md5     74cd5466416136da30a4e69f74dbc7a0 \
                    sha1    412cdac5cd778d867e2d91a01b09858be1998ec3 \
                    rmd160 	e8b84e01d1f43faedfe676afc92c2cba4a01ecdf

patchfiles          patch-lzma.diff \
	                patch-src-file.h.diff \
	                patch-magic-Magdir-msdos.diff

configure.args      --mandir=${prefix}/share/man \
                    --enable-fsect-man5 \
                    --program-prefix=g
depends_lib         port:zlib

universal_variant   no

variant with_default_names description {don't prefix names with a 'g'} {
    configure.args-delete   --program-prefix=g
}

variant with_text_magic_file description (also install the plain-text magic file} {
    patchfiles-append patch-magic-Makefile.in.diff
}

livecheck.check     md5
livecheck.url       ftp://ftp.fu-berlin.de/unix/tools/${name}/
livecheck.md5       a2918bbcee8b1ca0225c5358f1801fdb
