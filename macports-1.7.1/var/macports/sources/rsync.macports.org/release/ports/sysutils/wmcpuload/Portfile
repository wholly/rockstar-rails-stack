# $Id: Portfile 47545 2009-03-01 00:25:33Z jeremyhu@macports.org $

PortSystem 1.0
name		wmcpuload
version		1.0.1
revision	3
categories	sysutils x11
maintainers    nomaintainer
description	An "lcd" dockapp that displays the current cpuload
homepage	http://www.sh.rim.or.jp/~ssato/dockapp/

use_bzip2 yes

long_description WMCPULoad is a program to monitor CPU usage. It is a \
dockapp that is supported by X window managers such as Window Maker, \
AfterStep, BlackBox, and Enlightenment.

platforms	darwin freebsd
master_sites	http://distfiles.gentoo.org/distfiles/
checksums           md5     f15b1a06a9b3467b84f36ba9e97cdf3e \
                    sha1    6e767dd5acd291cfe3fc4fece5ff32eef78915e4 \
                    rmd160  1ff01f09464dc8628acd7d375adcd106ea7ce317

depends_lib \
	port:xorg-libXext \
	port:xpm

# AC_X_PATH blindly asks xmkmf where X11 is, and it always uses /usr/X11R6.
# This block helps us link correctly and setup our pc files correctly when we   
# are +system_x11 and x11prefix is somewhere non-standard and should cause
# AC_X_PATH to let us setup our CPPFLAGS and LDFLAGS without interference
configure.args-append --x-include=${prefix}/include --x-lib=${prefix}/lib
if { ![file exists ${prefix}/lib/pkgconfig/x11.pc] } {
    pre-configure {
        configure.cppflags-append -I${x11prefix}/include
        configure.ldflags-append  -L${x11prefix}/lib
    }
}
