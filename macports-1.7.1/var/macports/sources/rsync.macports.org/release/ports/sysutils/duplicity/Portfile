# $Id: Portfile 47988 2009-03-12 01:02:08Z ram@macports.org $

PortSystem    1.0
PortGroup     python25 1.0

name          duplicity
version       0.5.11
categories    sysutils
platforms     darwin
maintainers   nomaintainer

description   Encrypted bandwidth-efficient backup.
long_description  Duplicity backs directories by producing encrypted \
      tar-format volumes and uploading them to a remote or local file \
      server. Because duplicity uses librsync, the incremental archives \
      are space efficient and only record the parts of files that have \
      changed since the last backup. Because duplicity uses GnuPG to \
      encrypt and/or sign these archives, they will be safe from spying \
      and/or modification by the server.

homepage      http://www.nongnu.org/duplicity/index.html
master_sites  http://savannah.nongnu.org/download/duplicity/ \
              http://download.savannah.gnu.org/releases-noredirect/duplicity/

checksums     md5 07884a5817c083ab4a9b5a63ce6269a2 \
              sha1 fceb6fab36a9db9a2be3608e8a0b64cd8a1ec1ec \
              rmd160 c9d4a72a10c2af826ad298a1f5bb19db2cafdf2e

depends_lib-append  port:librsync \
                    port:gnupg

depends_run-append  port:py25-gnupg \
                    port:py25-boto \
                    port:py25-zlib \
                    port:py25-hashlib \
                    port:ncftp

build.cmd-append    --librsync-dir=${prefix}

universal_variant no

livecheck.check   regex
livecheck.url     ${homepage}
livecheck.regex   {The current release is (\d+(?:\.\d+)*)}
