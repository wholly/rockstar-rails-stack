# $Id: Portfile 41763 2008-11-10 07:25:25Z blb@macports.org $

PortSystem 1.0

name		haddock
version		2.4.1
categories	devel
maintainers	nomaintainer
platforms	darwin
description	A Haskell Documentation Tool
long_description	\
		This is Haddock, a tool for automatically generating	\
		documentation from annotated Haskell source code.	\
		It is primarily intended for documenting libraries,	\
		but it should be useful for any kind of Haskell code.	\
									\
		Like other systems (IDoc,HDoc), Haddock lets you write	\
		documentation annotations next to the definitions of	\
		functions and types in the source code, in a syntax	\
		that is easy on the eye when writing the source code	\
		(no heavyweight mark-up). The documentation generated	\
		by Haddock is fully hyperlinked - click on a type name	\
		in a type signature to go straight to the definition,	\
		and documentation, for that type.

homepage	http://www.haskell.org/haddock/
master_sites	http://hackage.haskell.org/packages/archive/${name}/${version}

checksums	md5     f474065cd6996b633bbc180b32b04013		\
		sha1    452f80bf274c14ace5d6e0fd05af34c2980a1cfb	\
		rmd160  f950b5b719ad655cdd3bd6878d99163cfcd04097


depends_build	port:ghc
depends_lib	port:hs-ghc-paths

pre-configure   { system "cd ${worksrcpath} && ${prefix}/bin/ghc -o Setup Setup.lhs -package Cabal"
                }

configure       { system "cd ${worksrcpath} && ./Setup configure --ghc --prefix=${prefix}"
                }

build           { system "cd ${worksrcpath} && ./Setup build -v"
                }

destroot        { system "cd ${worksrcpath} && ./Setup copy --copy-prefix=${destroot}${prefix}"
                }

