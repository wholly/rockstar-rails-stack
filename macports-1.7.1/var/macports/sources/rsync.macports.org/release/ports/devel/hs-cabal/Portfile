# $Id: Portfile 42272 2008-11-17 22:18:33Z gwright@macports.org $

PortSystem 1.0

name		hs-cabal
set shortname	cabal-install
version		0.6.0
categories	devel haskell
maintainers	gwright
platforms	darwin

description	User interface to Haskell's Cabal build system.
long_description	\
		Cabal is a system for building and packaging Haskell	\
		libraries and programs It defines a common interface	\
		for package authors and distributors to easily build	\
		their applications in a portable way. Cabal is part of	\
		a larger infrastructure for distributing, organizing,	\
		and cataloging Haskell libraries and programs.

homepage	http://www.haskell.org/cabal
master_sites	${homepage}/release/
distname	${shortname}-${version}

checksums       md5     ddce0bda54a99d816091e77ab6e4b39f		\
                sha1    13b9591bb6c270cc995903ebf4089b07d18a49e6	\
                rmd160  dd2438ed5c4e6e5878e1734b42013f532e5b954c

depends_lib	port:hs-libcabal	\
		port:hs-zlib		\
		port:hs-HTTP

configure	{ system "cd ${worksrcpath} && runhaskell Setup configure --ghc --prefix=${prefix}"
		}

build		{ system "cd ${worksrcpath} && runhaskell Setup build"
		}

destroot	{ system "cd ${worksrcpath} && runhaskell Setup copy --copy-prefix=${destroot}${prefix}"
                }


