# $Id: Portfile 49064 2009-04-02 19:45:24Z brett@macports.org $

PortSystem 1.0
name                    libzookeeper
version                 3.1.1
description             C bindings for ZooKeeper, the high-performance coordination service
long_description        ZooKeeper is a distributed, open-source coordination service for \
distributed applications. It exposes a simple set of primitives that distributed applications \
can build upon to implement higher level services for synchronization, configuration \
maintenance, and groups and naming. It is designed to be easy to program to, and uses a data \
model styled after the familiar directory tree structure of file systems. This port contains \
the C bindings for interacting with it.
maintainers             brett@macports.org
categories              devel
platforms               darwin
homepage                http://hadoop.apache.org/zookeeper/
distname                zookeeper-${version}
master_sites            apache:hadoop/zookeeper/${distname}
checksums               sha1 119c4a68368e6490b275c5283534d98136899b46
worksrcdir              ${distname}/src/c
use_configure           yes
configure.args          --mandir=${prefix}/share/man

pre-configure {
      system "cd ${worksrcpath}/../.. && ant compile_jute"
}

post-configure {
      reinplace "s|-Werror||" ${worksrcpath}/Makefile
      reinplace "s|c-client-src|zookeeper|" ${worksrcpath}/Makefile
}

