# $Id: Portfile 37930 2008-06-29 22:30:43Z ryandesign@macports.org $

PortSystem          1.0
name                caml-sexplib
version             3.7.4
distfiles           sexplib310-${version}.tar.gz
worksrcdir          sexplib310-${version}
categories          devel ml
maintainers         erickt openmaintainer
description         Automated code generation for converting OCaml-values to S-expressions
homepage            http://www.ocaml.info/home/ocaml_sources.html
platforms           darwin
master_sites        http://www.ocaml.info/ocaml_sources
 checksums          md5 35d5822515e98bd62510ecebccc25c12 \
                    sha1 97187a87cf8c7097034c369ea877ef295668f7c9 \
                    rmd160 5b199009d71966e35c149450b0ef04e068778697

livecheck.check     regex
livecheck.regex     "sexplib-(.*?).tar.gz"

depends_lib         port:ocaml port:caml-findlib

use_configure       no

build.env           PREFIX=${prefix}

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_INSTFLAGS="-destdir $ocamlfind_destdir"

pre-destroot {
    file mkdir $ocamlfind_destdir
}
