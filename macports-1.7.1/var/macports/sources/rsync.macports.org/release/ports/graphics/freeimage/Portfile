# -*- tcl -*-
# $Id: Portfile 34141 2008-02-15 14:56:22Z raimue@macports.org $

PortSystem 1.0

name			freeimage
version			3.10.0
categories		graphics
maintainers		ryand-ruby@zenspider.com
description		Library for FreeImage, a dependency-less graphics library
long_description	FreeImage is a library for developers who would like to \
			support most popular graphics image formats. Some \
			highlights are: extremely simple in use, not limited to \
			the local PC (unique FreeImageIO) and Plugin driven!
platforms		macosx
homepage		http://freeimage.sourceforge.net/
master_sites		sourceforge
distname		FreeImage[strsed ${version} {g/\.//}]
use_zip			yes
worksrcdir		FreeImage

checksums		md5 2e57135e26bb487cc8e13ee7b7e0a595 \
			sha1 9590563e8abade9494fc6db6f6127fa3db42b8e1 \
			rmd160 9f501e099bca567b2ffedd0f9f00ad6b58021b09

use_configure		no

destroot.pre_args	-f Makefile.osx ${destroot.target}
destroot.destdir	PREFIX=${destroot}${prefix}

default_variants +universal
variant universal {}
pre-fetch {
	if {![variant_isset universal]} {
		return -code error "${name} is only available in a universal version"
	}
}

platform darwin 9 {
    patchfiles-append   patch-Makefile.osx-Leopard.diff
}

livecheck.regex		<title>Source Distribution (.*) released.*</title>
