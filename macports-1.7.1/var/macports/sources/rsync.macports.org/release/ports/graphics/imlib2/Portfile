# $Id: Portfile 45603 2009-01-18 20:52:41Z jeremyhu@macports.org $

PortSystem			1.0

name				imlib2
version				1.4.1
revision                        1
categories			graphics devel
maintainers			nomaintainer
description			Image loading and rendering library
long_description \
	Imlib is a general Image loading and rendering library designed to make \
	the task of loading images, and obtaining X-Windows drawables a simple \
	task, as well as a quick one. It also aims to provide simple \
	manipulation routines that might be desired for common operations.

platforms			darwin

homepage			http://www.enlightenment.org/pages/imlib2.html
master_sites			sourceforge:enlightenment

checksums			md5	16a3d885e523303be794282c0ed90841 \
				sha1	d1894311e9e84015a0a9451748f6f37387fe693d \
				rmd160	29b4393e298825d4eb5922fb91a2dc558bde86d8

depends_build \
	port:pkgconfig \
	port:autoconf \
	port:automake \
	port:libtool

depends_lib	\
	port:xorg-libX11 \
	port:xorg-libXext \
	port:libpng \
	port:jpeg \
	port:libpng \
	port:freetype \
	port:zlib \
	port:libid3tag

use_autoconf yes
autoconf.cmd autoreconf
autoconf.args -fvi

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	eval xinstall -m 644 -W ${worksrcpath}/doc \
		[glob ${worksrcpath}/doc/*.gif] index.html \
		${destroot}${prefix}/share/doc/${name}
}

platform i386 {
	configure.args-append	--disable-mmx --disable-amd64
}
