--- src/anneal.h.orig	2007-12-16 15:11:13.000000000 -0800
+++ src/anneal.h	2007-12-16 15:22:58.000000000 -0800
@@ -39,7 +39,8 @@
 #ifdef _WIN32
 #include <cmath>
 #else
-#include <math.h>
+#include <cmath>
+using std::isnan;
 #endif
 
 #include "gpu.h"
@@ -678,7 +679,7 @@
 
             localK = stateSpace->size();
             if (localK < 2) convergedPoints[index] = true;
-            kMax = std::max(kMax, stateProbabilities->size());
+            kMax = std::max((size_t)kMax, stateProbabilities->size());
 
         }
 
