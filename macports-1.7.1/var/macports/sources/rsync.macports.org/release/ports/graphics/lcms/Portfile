# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 48865 2009-03-30 22:50:32Z devans@macports.org $

PortSystem              1.0
PortGroup               muniversal 1.0

name                    lcms
version                 1.18
categories              graphics
platforms               darwin
maintainers             nomaintainer
use_parallel_build      yes

description             Little Color Management System, a color matching \
                        method library
long_description        LCMS is the Little Color Management System, a Color \
                        Matching Method (CMM) library which implements fast \
                        transforms between ICC profiles. It is released under \
                        LGPL with source code and meant to be portable. \
                        Color management refers to techniques that ensure \
                        consistent color as images are transferred from \
                        scanners or cameras to monitors and printers.

homepage                http://www.littlecms.com/

# One of the sourceforge mirrors downloads a bad file, resulting in a checksum failure.
#master_sites            sourceforge:lcms \
#                        ${homepage}
master_sites            ${homepage}

checksums               md5     9f908e2dc48f76db77ac35a382e394c7 \
                        sha1    7001badb14b2e9cb89e2637bdc56f23ebff2d40e \
                        rmd160  76c37ac029f733bbb9a850234e62bfd2a4a04bf4

depends_lib             port:jpeg \
                        port:tiff \
                        port:zlib

test.run                yes
test.target             check

livecheck.check regex
livecheck.url   http://www.littlecms.com/downloads.htm
livecheck.regex "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
