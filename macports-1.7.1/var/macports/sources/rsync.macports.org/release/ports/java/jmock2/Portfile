# $Id: Portfile 44883 2009-01-04 12:36:18Z toby@macports.org $

PortSystem 1.0

name			jmock2
version			2.4.0
categories		java
platforms		darwin
maintainers		blair

description		Library for testing Java code using mock objects
long_description	jMock is a library that supports test-driven \
			development of Java code with mock objects.  Mock \
			objects help you design and test the interactions \
			between the objects in your programs.
homepage		http://www.jmock.org/

master_sites		${homepage}dist
distfiles		jmock-${version}-jars.zip \
			jmock-${version}-javadoc.zip
checksums		jmock-${version}-jars.zip \
				md5 db3bb06edd4a0c9e55f1a2b5903df131 \
				sha1 3d90976aac03f72d16b2d39ac9c825d9526058bb \
				rmd160 7b2f878af31449832c94246b3083e6104003fb72 \
			jmock-${version}-javadoc.zip \
				md5 83791edeeefdebb5f971a5412568d835 \
				sha1 d3b4fc885709744bb693fddeda0f8e4dcdabb46f \
				rmd160 eb26574f4594479561848f18a77b8636e130c1bf
use_zip			yes

worksrcdir		jmock-${version}

depends_lib		bin:java:kaffe \
			port:cglib \
			port:hamcrest-core \
			port:objenesis

use_configure		no

build.cmd		true

destroot {
	set javadir ${destroot}${prefix}/share/java
	set docdir ${destroot}${prefix}/share/doc/${name}

	xinstall -d -m 755 ${javadir}
	xinstall -d -m 755 ${docdir}

	file copy ${worksrcpath}/jmock-${version}.jar \
		${javadir}/jmock2.jar
	file copy ${worksrcpath}/jmock-junit3-${version}.jar \
		${javadir}/jmock2-junit3.jar
	file copy ${worksrcpath}/jmock-junit4-${version}.jar \
		${javadir}/jmock2-junit4.jar
	file copy ${worksrcpath}/jmock-legacy-${version}.jar \
		${javadir}/jmock2-legacy.jar
	file copy ${worksrcpath}/doc ${docdir}/api
}
