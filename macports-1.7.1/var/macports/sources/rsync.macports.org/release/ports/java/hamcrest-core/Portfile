# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 41686 2008-11-09 03:48:19Z nox@macports.org $

PortSystem      1.0

name            hamcrest-core
set my_name     hamcrest
version         1.1
categories      java devel
platforms       darwin
maintainers     nox openmaintainer
description     library of matchers for building test expressions

long_description \
    Provides a library of matcher objects (also known as constraints \
    or predicates) allowing 'match' rules to be defined declaratively, \
    to be used in other frameworks. Typical scenarios include testing \
    frameworks, mocking libraries and UI validation rules.

homepage        http://code.google.com/p/hamcrest/
master_sites    googlecode:${my_name}
dist_subdir     ${my_name}
distname        ${my_name}-${version}
extract.suffix  .tgz

checksums       md5 1bd4fd301c1a0dc748082378a59cb281 \
                sha1 e7c8511e3702545eb50b38e5aa2c3d887d8393ef \
                rmd160 6b1a6a5ca753b965ee1a3260db654c2405498213

depends_build   port:apache-ant

use_configure   no

build.cmd       ant
build.target    core
build.args      -Dversion=${version}

destroot {
    set javadir ${prefix}/share/java
    set docdir ${prefix}/share/doc/${name}-${version}
    
    xinstall -d ${destroot}${javadir} ${destroot}${docdir}
    xinstall -m 0644 ${worksrcpath}/build/hamcrest-core-1.1.jar ${destroot}${javadir}/hamcrest-core.jar
    xinstall -m 0644 -W ${worksrcpath} CHANGES.txt LICENSE.txt README.txt \
        ${destroot}${docdir}
}   

universal_variant   no

livecheck.check regex
livecheck.regex $name-(\\d+(?:\\.\\d+)*)
