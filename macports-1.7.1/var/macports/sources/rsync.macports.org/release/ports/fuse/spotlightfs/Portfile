# $Id: Portfile 29166 2007-09-16 21:15:55Z eridius@macports.org $

PortSystem 1.0
PortGroup xcode 1.0

name                spotlightfs
version             0.1.0
revision            2
categories          fuse
platforms           macosx
maintainers         eridius@macports.org
description         The Spotlight File System for MacFUSE
long_description    SpotlightFS is a MacFUSE file system that creates true \
                    smart folders, where the folders' contents are dynamically \
                    generated by querying Spotlight. This differs from Finder's \
                    version of smart folders, which are really plist files with \
                    a .savedSearch file extension. Since SpotlightFS smart folders \
                    are true folders, they can be used from anywhere--including the command line.

homepage            http://code.google.com/p/macfuse/

master_sites        macports macports:FUSEObjC:objc
distfiles           SpotlightFS-${version}.tar.bz2 FUSEObjC-0.4.0.tar.bz2:objc
worksrcdir          SpotlightFS
checksums           SpotlightFS-${version}.tar.bz2 md5 102e6196d635ee87521e8b586844a77c \
                                                   sha1 e10322f6ea526b878d0b8ac21c51e1246f645959 \
                    FUSEObjC-0.4.0.tar.bz2 md5 9ac70a7faf748e04e4e0bf0c8856b7c5 \
                                           sha1 99752396411e3b44728436d15d6cb76bd1966e1f

# this patch needs to be removed next time there's a SpotlightFS release
patchfiles          patch-writable-dirs

use_bzip2           yes

livecheck.distname  SpotlightFS-(.*).dmg

depends_build       port:libfuse

xcode.target            SpotlightFS
xcode.configuration     Release
xcode.build.settings    LIBRARY_SEARCH_PATHS='/opt/local/lib /usr/local/lib' \
                        HEADER_SEARCH_PATHS='/opt/local/include /usr/local/include'
xcode.destroot.settings LIBRARY_SEARCH_PATHS='/opt/local/lib /usr/local/lib' \
                        HEADER_SEARCH_PATHS='/opt/local/include /usr/local/include'
platform i386 {
    xcode.build.settings-append ARCHS='i386'
    xcode.destroot.settings-append ARCHS='i386'
}

platform powerpc {
    xcode.build.settings-append ARCHS='ppc'
    xcode.destroot.settings-append ARCHS='ppc'
}
