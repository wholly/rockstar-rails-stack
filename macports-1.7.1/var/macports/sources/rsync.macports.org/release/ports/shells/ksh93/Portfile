# $Id: Portfile 42234 2008-11-17 05:38:21Z brett@macports.org $

PortSystem 1.0

name            ksh93
version         2008-11-04
categories      shells
maintainers     brett@macports.org
description     The AT&T Korn shell
long_description \
    The official version of ksh-93, by David Korn and AT&T research
platforms       darwin freebsd
homepage        http://www.research.att.com/sw/download/
master_sites    http://www.research.att.com/~gsf/download/tgz/

distfiles       ast-ksh.$version.tgz \
                INIT.$version.tgz
checksums       ast-ksh.$version.tgz \
                  md5 630096418741335fd757cda3f054aa11 \
                INIT.$version.tgz \
                  md5 adb05b9940046d3ca6b4b24038131725

fetch.user      I accept www.opensource.org/licenses/cpl
fetch.password  .

pre-extract {
    xinstall -d ${worksrcpath}
}

extract.dir ${worksrcpath}

use_configure   no

build.cmd       bin/package
build.target    make
build.args      SHELL=sh

destroot {
    set arch [exec ${worksrcpath}/bin/package]
    xinstall -m 555 ${worksrcpath}/arch/${arch}/bin/ksh \
      ${destroot}${prefix}/bin
    xinstall -m 444 ${worksrcpath}/arch/${arch}/man/man1/sh.1 \
      ${destroot}${prefix}/share/man/man1/ksh.1
}
