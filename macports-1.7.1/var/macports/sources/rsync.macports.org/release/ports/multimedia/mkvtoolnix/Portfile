# $Id: Portfile 41652 2008-11-08 09:37:14Z pguyot@kallisys.net $

PortSystem			1.0

name				mkvtoolnix
version				2.4.0
categories			multimedia
maintainers			pguyot@kallisys.net openmaintainer
description			Matroska media files manipulation tools.
long_description	mkvtoolnix will evolve to a set of tools to create, \
					alter and inspect Matroska files under Linux and other \
					Unices, just what the OGMtools do for the OGM format.
homepage			http://www.bunkus.org/videotools/mkvtoolnix/
platforms			darwin
use_bzip2			yes
master_sites		${homepage}sources/
checksums			md5     125a6305de16236754d7554fa5b597cf \
                    sha1    1220475a7e9753aee8f17fb0dcc121fed6b98284 \
                    rmd160  3101e05f763a00807da593ac6ea6441f010ad97c
depends_lib     	port:libmatroska \
					port:libogg \
					port:libvorbis \
					port:expat \
					port:lzo \
					port:pcre \
					port:boost
configure.args		--mandir=${prefix}/share/man \
					--with-extra-libs=${prefix}/lib \
					--with-extra-includes=${prefix}/include \
					--disable-wxwidgets \
					--without-flac \
					--with-boost-regex=boost_regex-mt

variant wxwidgets description "build with the GUI with wxWidgets" {
	depends_lib-append		port:wxWidgets
	configure.args-delete	--disable-wxwidgets
	configure.args-append	--enable-wxwidgets
}

variant flac description "flac support" {
	depends_lib-append		port:flac
	configure.args-delete	--without-flac
	configure.args-append	--with-flac
}

default_variants	+flac

# livecheck.
livecheck.check		regex
livecheck.url		http://www.archlinux.org/packages/3992/
livecheck.regex		mkvtoolnix (\[0-9.\]+)-\[0-9\]
