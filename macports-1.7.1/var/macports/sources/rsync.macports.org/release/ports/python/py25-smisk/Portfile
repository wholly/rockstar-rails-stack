# $Id: Portfile 48919 2009-03-31 11:03:54Z ryandesign@macports.org $

PortSystem          1.0
PortGroup           python25 1.0

name                py25-smisk
version             1.1.5
revision            0
categories          python www
platforms           darwin

maintainers         rasmus
description         High performance web service framework
long_description    A modern high performance web service framework, written \
                    in C but controlled by Python.
homepage            http://python-smisk.org/

master_sites        http://python-smisk.org/dist/
distname            smisk-${version}
checksums           sha1 1a9ac1cb1a85426897b369888a260bd94f3afe1d

depends_lib-append  port:fcgi \
                    port:py25-setuptools \
                    port:py25-readline \
                    port:py25-elixir \
                    port:py25-mako \
                    port:py25-cjson \
                    port:py25-yaml

variant minimal description {Minimize number of dependencies} {
  # Smisk will tell the user when she is trying to use a part of Smisk which
  # requires a certain module which is not available, thus no extra
  # configuration is required.
  depends_lib-delete  port:py25-readline \
                      port:py25-elixir \
                      port:py25-mako \
                      port:py25-cjson \
                      port:py25-yaml
}

build.env-append  SMISK_BUILD_ID_SUFFIX=:macports:${revision}
build.args-append -f

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} LICENSE README.rst CHANGELOG.rst ${destroot}${prefix}/share/doc/${name}
	copy ${worksrcpath}/examples ${destroot}${prefix}/share/doc/${name}/examples
}
