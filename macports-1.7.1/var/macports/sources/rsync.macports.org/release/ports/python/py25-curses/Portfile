# $Id: Portfile 48504 2009-03-24 02:02:32Z blb@macports.org $

PortSystem 1.0
PortGroup python25 1.0

name			py25-curses
version			2.5.4
revision		1
categories		python
platforms		darwin
maintainers		mww
description		Python bindings to ncurses
long_description	Python modules curses and curses-panel

homepage		http://www.python.org/doc/current/lib/module-curses.html
master_sites	http://www.python.org/ftp/python/${version}/
distname		Python-${version}
dist_subdir		python25
checksums		sha1 0f2e819d6381f72f26c734e00a6780b3933ea404
use_bzip2		yes

worksrcdir		${worksrcdir}/Modules

extract.post_args	"| tar -xf - ${distname}/Modules/_cursesmodule.c \
			${distname}/Modules/_curses_panel.c"
post-extract {
	file copy	${filespath}/setup.py ${worksrcpath}
}

depends_lib-append	port:ncursesw

configure	{
	reinplace "s|__VERSION__|${version}|g" ${worksrcpath}/setup.py
	reinplace "s|__LIBDIR__|${prefix}/lib|g" ${worksrcpath}/setup.py
	reinplace "s|__INCDIR__|${prefix}/include|g" ${worksrcpath}/setup.py
}

livecheck.check	regex
livecheck.url	http://www.python.org/download/releases/
livecheck.regex	Python (2.5\[0-9\.\]+)
