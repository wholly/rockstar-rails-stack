# $Id: Portfile 49296 2009-04-07 01:22:14Z snc@macports.org $

PortSystem          1.0

name                dot2tex
version             2.8.5
categories          graphics print python
platforms           darwin
maintainers         snc openmaintainer
description         Convert graphs generated by Graphviz to LaTeX friendly formats
long_description \
   The purpose of dot2tex is to give graphs generated by Graphviz a more \
   LaTeX friendly look and feel. This is accomplished by converting xdot \
   output from Graphviz to a series of PSTricks or PGF/TikZ commands.

homepage            http://www.fauskes.net/code/dot2tex/
master_sites        googlecode
checksums           md5     94e3d97acbd66e24de9a7403d278dd60 \
                    sha1    0a4d7bdc14d77a86bcd9108dbf2ceb09c636c713 \
                    rmd160  5844debecf230a3f8ee54270f6a80013684b68cd

livecheck.regex     <a href="http://dot2tex.googlecode.com/files/dot2tex-(.*)\.tar\.gz"

depends_run         bin:dot:graphviz bin:latex:texlive bin:pdflatex:texlive

if {![variant_isset python24] && ![variant_isset python25] && ![variant_isset python26]} {
	default_variants    +python25
}

variant python24 conflicts python25 python26 {
    PortGroup           python24 1.0
    depends_lib-append  port:py-parsing
}

variant python25 conflicts python24 python26 {
    PortGroup           python25 1.0
    depends_lib-append  port:py25-parsing
}

variant python26 conflicts python24 python25 {
    PortGroup           python26 1.0
    depends_lib-append  port:py26-parsing
}

post-destroot {
   xinstall -m 644 -W ${worksrcpath} README.txt changelog.txt \
      ${destroot}${prefix}/share/doc/${name}
   eval file copy [glob ${worksrcpath}/doc/*] ${destroot}${prefix}/share/doc/${name}/
   eval xinstall -m 644 [glob examples/*] ${destroot}${prefix}/share/doc/${name}/examples
}
