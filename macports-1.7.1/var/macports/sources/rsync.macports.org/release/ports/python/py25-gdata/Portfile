# $Id: Portfile 46805 2009-02-13 19:22:13Z snc@macports.org $

PortSystem          1.0
PortGroup           python25 1.0

name                py25-gdata
version             1.2.4
categories-append   devel
maintainers         gmail.com:aecollins1
description         Google Data API Python Client Library
long_description \
    The Google Data Python Client Library provides a library that makes it \
    easy to access data through the Google Data APIs. Many Google services \
    (such as Google Calendar and Documents) support the Google Data API \
    protocol.
platforms           darwin
homepage            http://code.google.com/p/gdata-python-client/
master_sites        http://gdata-python-client.googlecode.com/files/
distname            gdata.py-${version}

checksums           md5 521f33a377d64f8a6505ba119415b787 \
                    sha1 5b6804cfb3bced02c7e9f102fa2a714140f62fd8 \
                    rmd160 4082397a7180198c1963fde726bb91c360f27e20

depends_lib         port:py25-setuptools \
                    port:py25-elementtree \
                    port:py25-socket-ssl

post-destroot {

    eval reinplace \
        "s|/home/jhartmann/gdata-python-client2/src|${prefix}/lib/python2.5/site-packages|g" \
        [glob ${worksrcpath}/pydocs/*.html]

    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    eval file copy [glob ${worksrcpath}/pydocs/*.html] \
        ${destroot}${prefix}/share/doc/${name}

    eval reinplace "s|#!/usr/bin/python|#!${prefix}/bin/python2.5|g" \
        [glob ${worksrcpath}/samples/*/*.py]
    file copy ${worksrcpath}/samples \
        ${destroot}${prefix}/share/doc/${name}/
}
