# $Id: Portfile 46132 2009-01-30 03:50:20Z snc@macports.org $

PortSystem      1.0

name            a2ps-j
version         1.45
revision        1
categories      print textproc japanese
maintainers     takanori openmaintainer
description     Text file to postscript converter (with Japanese support)
long_description \
                This program is perl version of Miguel Santana's a2ps. \
                a2ps-j converts plain text to PostScript for printing on a PS printer. \
                If no file is given, a2ps-j reads from the standard input.
platforms       darwin
homepage
master_sites    macports \
                ftp://ftp.iij.ad.jp/pub/IIJ/dist/utashiro/perl/ \
                ftp://ftp.sra.co.jp/pub/lang/perl/sra-scripts/
distfiles       a2ps.pl-${version}
patchfiles      patch-nojconv.diff
checksums       md5 3eae209b3c69ec692ee7d61ddd663f6c \
                sha1 1a938099322767bced3eae525426b80164584d8c \
                rmd160 2599f86d4433afd3d0ed3490539d87995ce51dab

depends_run     bin:perl:perl5 \
                port:nkf

extract {
    file mkdir ${worksrcpath}
    copy ${distpath}/a2ps.pl-${version} ${worksrcpath}/${name}
}

post-patch {
    reinplace "s|#!/usr/local/bin/perl|#!/usr/bin/env perl|" ${worksrcpath}/${name}
}

use_configure   no

build {}

destroot {
    xinstall -m 755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/${name}
}

livecheck.check none
